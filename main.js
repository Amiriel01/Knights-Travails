(()=>{"use strict";document.querySelector("#clear-board").addEventListener("click",(function(){location.reload()}));let e=new Map,t=(r,l)=>{let o,c=r,n=l,a=[[1,2],[1,-2],[2,1],[2,-1],[-1,2],[-1,-2],[-2,1],[-2,-1]],s=()=>o,d=e=>{o=o||e},i=()=>`${r}, ${l}`,u=()=>a.map((e=>p(e[0],e[1]))).filter((e=>void 0!==e)),p=(e,r)=>{let[o,a]=[c+e,n+r];if(0<=o&&o<8&&0<=a&&l<8)return t(o,a)};if(e.has(i()))return e.get(i());{let t={name:i,getPredecessor:s,setPredecessor:d,possibleKnightMoves:u};return e.set(i(),t),t}};(()=>{let e=[0,0],t=[],r=document.createElement("table");r.setAttribute("class","center");for(let e=0;e<8;e++){let l=document.createElement("tr"),o=Math.abs(e-7);for(let r=0;r<8;r++){let c=document.createElement("td"),n=r;(e+r)%2==0?(c.setAttribute("class","cell whitecell"),l.appendChild(c),t.push(o),t.push(n),c.dataset.coordArray=t,t.splice(0,2)):(c.setAttribute("class","cell blackcell"),l.appendChild(c),t.push(o),t.push(n),c.dataset.coordArray=t,t.splice(0,2))}r.appendChild(l)}r.querySelectorAll("td").forEach((t=>{if(e.toString()===t.dataset.coordArray){let e=document.createElement("img");e.src="knight.svg",t.appendChild(e)}})),document.querySelector(".right").appendChild(r)})(),document.querySelectorAll("td").forEach((r=>{if(null!==r.querySelector("img")){let e=JSON.parse("["+r.dataset.coordArray+"]");console.log("Current knight location",e)}r.addEventListener("click",(function(){let l=JSON.parse("["+r.dataset.coordArray+"]");console.log("Clicked on location",l),document.querySelectorAll("td").forEach((r=>{if(null!==r.querySelector("img")){let o=JSON.parse("["+r.dataset.coordArray+"]");console.log("Current knight location",o),document.querySelector("img").remove(),((r,l)=>{e.clear();let o=t(...r),c=t(...l),n=[o];for(;!n.includes(c);){let e=n.shift(),t=e.possibleKnightMoves();t.forEach((t=>t.setPredecessor(e))),n.push(...t)}let a=[c];for(;!a.includes(o);){let e=a[0].getPredecessor();a.unshift(e)}let s=[];a.forEach((e=>{s.push(e.name())})),((e,t)=>{null!==document.querySelector("p")&&document.querySelector(".display-div").querySelectorAll("p").forEach((e=>e.remove()));let r=document.querySelector(".display-div"),l=document.createElement("p"),o=document.createElement("p");l.textContent=`The shortest path was ${e.length-1} moves!`,o.innerHTML=t.join("<br>"),r.appendChild(l),r.appendChild(o)})(a,s)})(o,l)}}));let o=document.createElement("img");o.src="knight.svg",r.appendChild(o)}))}))})();